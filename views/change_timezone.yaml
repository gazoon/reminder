actions:
  main:
    - set_input_handler: "on_timezone"
    - send_text: |-
        {{ if eq .params.error_msg ""}}
        Type your timezone in minutes (e.g. -180 or +120):
        {{else}}
        Problems with timezone: {{.params.error_msg}}. Type again:
        {{end}}

  on_timezone:
    - redirect: { if: $error_msg, then: "main?error_msg={{ .error_msg }}", else: "changed" }

  changed:
    - send_text: "Timezone changed"
    - send_buttons:
      - { text: "Home", handler: "page://home", intents: ["home","root","main"] }

entry_action: main



